<h1>Fuel efficient cars are expensive. When do you break even?</h1>
<!-- <p>Education generally increases salaries. Between tuition costs and years of lost income, however, it might not be as fruitful as you thought. This calculator will estimate the age at which you will break even.
<p>Say you have two options:
<ol>
  <li>
    Without going to college, you make $20k/yr. Over 10 years, you earn $200000.
  </li>
  <li>
    You could spend <span matTooltip="$120000">$30k/yr to school to school for 4 years</span>. After graduation, you earn <span matTooltip="$300,000">$50k/yr for 6 years</span>. Over the same 10 years, you've earned <span matTooltip="$300000-120000">$180000</span>.
  </li>
</ol>
In the scenario above, the person would break even a little after 10 years. When will you break even? -->
<form #carsCalcForm="ngForm">
  <div fxLayout="column" fxLayout.gt-sm="row" fxLayoutWrap>

    <div class="inputs" fxFlex="100" [formGroup]="formGroup.get('common')">
      <div>
        <span>
          <span>How far is your drive to work?</span>
          <mat-form-field>
            <input matInput max="80" type="number" formControlName="distanceToWork"/>
            <div matSuffix>miles</div>
          </mat-form-field>
        </span>
        <div class="or">or</div>
        <span>
          <span>How many miles do you drive a year?</span>
          <mat-form-field>
            <input matInput type="number" formControlName="milesPerYear"/>
          </mat-form-field>
        </span>
      </div>
      <div>
        <span>How much does gas gost?</span>
        <mat-form-field>
          <div matPrefix>$</div>
          <input matInput type="number" formControlName="costPerGallon"/>
          <div matSuffix>/gallon</div>
        </mat-form-field>
      </div>
    </div>

    <div class="inputs inefficient" fxFlex="50" [formGroup]="formGroup.get('inefficient')">
      <h3>Path A: Cheaper car that gets worse gas mileage</h3>
      <div>
        <span>How much does the car cost?</span>
        <mat-form-field>
          <div matPrefix>$</div>
          <input matInput type="number" formControlName="cost"/>
        </mat-form-field>
      </div>

      <div>
        <span>What mileage does it get on average?</span>
        <mat-form-field>
          <input matInput type="number" formControlName="mileage"/>
          <div matSuffix>mpg</div>
        </mat-form-field>
      </div>

    </div>

    <div class="inputs efficient" fxFlex="50" [formGroup]="formGroup.get('efficient')">
      <h3>Path B: Fuel efficient car</h3>

      <div>
        <span>How much does the car cost?</span>
        <mat-form-field>
          <div matPrefix>$</div>
          <input matInput type="number" formControlName="cost"/>
        </mat-form-field>
      </div>

      <div>
        <span>What mileage does it get on average?</span>
        <mat-form-field>
          <input matInput type="number" formControlName="mileage"/>
          <div matSuffix>mpg</div>
        </mat-form-field>
      </div>
    </div>
    <div fxLayoutAlign="center center" fxFlex class="button-container">
      <button mat-raised-button color="primary" (click)="buildChart()">When will I break even?</button>
    </div>

    <div *ngIf="lineChartData.length" fxFlex="100" fxLayout="column" fxLayoutAlign="center center">
      <div class="spacer" fxFlex></div>
      <h1 fxFlex *ngIf="breakEvenAge">You'll break even after {{breakEvenAge}} years</h1>
      <h1 fxFlex *ngIf="!breakEvenAge">You never break even.</h1>
      <canvas baseChart
              [datasets]="lineChartData"
              [labels]="lineChartLabels"
              [options]="{responsive: true}"
              chartType="line">
      </canvas>
    </div>

  </div>

</form>
